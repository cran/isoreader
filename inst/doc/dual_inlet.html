<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="date" content="2021-02-15" />

<title>Dual Inlet Examples</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>
<style type="text/css">
a.anchor-section {margin-left: 10px; visibility: hidden; color: inherit;}
a.anchor-section::before {content: '#';}
.hasAnchor:hover a.anchor-section {visibility: visible;}
</style>
<script>// Anchor sections v1.0 written by Atsushi Yasumoto on Oct 3rd, 2020.
document.addEventListener('DOMContentLoaded', function() {
  const h = document.querySelectorAll('h1, h2, h3, h4, h5, h6');

  // Do nothing if sections are already anchored
  if (Array.from(h).some(x => x.classList.contains('hasAnchor'))) {
    return null;
  }

  // Use section id when pandoc runs with --section-divs
  const section_id = function(x) {
    return ((x.classList.contains('section') || (x.tagName === 'SECTION'))
            ? x.id : '');
  };

  // Add anchors
  h.forEach(function(x) {
    const id = x.id || section_id(x.parentElement);
    if (id === '') {
      return null;
    }
    let anchor = document.createElement('a');
    anchor.href = '#' + id;
    anchor.classList = ['anchor-section'];
    x.classList.add('hasAnchor');
    x.appendChild(anchor);
  });
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Dual Inlet Examples</h1>
<h4 class="date">2021-02-15</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Isoreader supports several dual inlet IRMS data formats. This vignette shows some of the functionality for dual inlet data files. For additional information on operations more generally (caching, combining read files, data export, etc.), please consult the <a href="https://isoreader.isoverse.org/articles/operations.html">operations vignette</a>. For details on downstream data processing and visualization, see the <a href="https://isoprocessor.isoverse.org">isoprocessor package</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># load isoreader package</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(isoreader)</span></code></pre></div>
</div>
<div id="reading-files" class="section level1">
<h1>Reading files</h1>
<p>Reading dual inlet files is as simple as passing one or multiple file or folder paths to the <code>iso_read_dual_inlet()</code> function. If folders are provided, any files that have a recognized continuous flow file extensions within those folders will be processed (e.g. all <code>.did</code> and <code>.caf</code>). Here we read several files that are bundled with the package as examples (and whose paths can be retrieved using the <code>iso_get_reader_example()</code> function).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># all available examples</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">iso_get_reader_examples</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="32%"></col>
<col width="17%"></col>
<col width="10%"></col>
<col width="40%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">filename</th>
<th align="left">type</th>
<th align="left">software</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">continuous_flow_example.cf</td>
<td align="left">continuous flow</td>
<td align="left">Isodat</td>
<td align="left">Continuous Flow file format (older)</td>
</tr>
<tr class="even">
<td align="left">continuous_flow_example.dxf</td>
<td align="left">continuous flow</td>
<td align="left">Isodat</td>
<td align="left">Continuous Flow file format (newer)</td>
</tr>
<tr class="odd">
<td align="left">continuous_flow_example.iarc</td>
<td align="left">continuous flow</td>
<td align="left">ionOS</td>
<td align="left">Continuous Flow data archive</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">dual inlet</td>
<td align="left">Isodat</td>
<td align="left">Dual Inlet file format (older)</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">dual inlet</td>
<td align="left">Isodat</td>
<td align="left">Dual Inlet file format (newer)</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">dual inlet</td>
<td align="left">Nu</td>
<td align="left">Dual Inlet file format</td>
</tr>
<tr class="odd">
<td align="left">background_scan_example.scn</td>
<td align="left">scan</td>
<td align="left">Isodat</td>
<td align="left">Scan file format</td>
</tr>
<tr class="even">
<td align="left">full_scan_example.scn</td>
<td align="left">scan</td>
<td align="left">Isodat</td>
<td align="left">Scan file format</td>
</tr>
<tr class="odd">
<td align="left">peak_shape_scan_example.scn</td>
<td align="left">scan</td>
<td align="left">Isodat</td>
<td align="left">Scan file format</td>
</tr>
<tr class="even">
<td align="left">time_scan_example.scn</td>
<td align="left">scan</td>
<td align="left">Isodat</td>
<td align="left">Scan file format</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># read dual inlet examples</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>di_files &lt;-</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">  </span><span class="kw">iso_read_dual_inlet</span>(</span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="kw">iso_get_reader_example</span>(<span class="st">&quot;dual_inlet_example.did&quot;</span>),</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="kw">iso_get_reader_example</span>(<span class="st">&quot;dual_inlet_example.caf&quot;</span>),</span>
<span id="cb3-6"><a href="#cb3-6"></a>    <span class="kw">iso_get_reader_example</span>(<span class="st">&quot;dual_inlet_nu_example.txt&quot;</span>),</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="dt">nu_masses =</span> <span class="dv">49</span><span class="op">:</span><span class="dv">44</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>  )</span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; Info: preparing to read 3 data files...</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt; Info: reading file &#39;dual_inlet_example.did&#39; with &#39;.did&#39; reader...</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt; Info: reading file &#39;dual_inlet_example.caf&#39; with &#39;.caf&#39; reader...</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt; Info: reading file &#39;dual_inlet_nu_example.txt&#39; with &#39;.txt&#39; reader...</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt; Info: finished reading 3 files in 3.95 secs</span></span></code></pre></div>
</div>
<div id="file-summary" class="section level1">
<h1>File summary</h1>
<p>The <code>di_files</code> variable now contains a set of isoreader objects, one for each file. Take a look at what information was retrieved from the files using the <code>iso_get_data_summary()</code> function.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_data_summary</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; Info: aggregating data summary from 3 data file(s)</span></span></code></pre></div>
<table>
<colgroup>
<col width="18%"></col>
<col width="26%"></col>
<col width="7%"></col>
<col width="14%"></col>
<col width="14%"></col>
<col width="18%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">raw_data</th>
<th align="left">file_info</th>
<th align="left">method_info</th>
<th align="left">vendor_data_table</th>
<th align="left">file_path</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">7 cycles, 6 ions (44,45,46,47,48,49)</td>
<td align="left">16 entries</td>
<td align="left">standards, resistors</td>
<td align="left">7 rows, 8 columns</td>
<td align="left">dual_inlet_example.did</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">8 cycles, 6 ions (44,45,46,47,48,49)</td>
<td align="left">22 entries</td>
<td align="left">standards, resistors</td>
<td align="left">8 rows, 9 columns</td>
<td align="left">dual_inlet_example.caf</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">82 cycles, 6 ions (44,45,46,47,48,49)</td>
<td align="left">9 entries</td>
<td align="left">no method info</td>
<td align="left">no vendor data table</td>
<td align="left">dual_inlet_nu_example.txt</td>
</tr>
</tbody>
</table>
<div id="problems" class="section level2">
<h2>Problems</h2>
<p>In case there was any trouble with reading any of the files, the following functions provide an overview summary as well as details of all errors and warnings, respectively. The examples here contain no errors but if you run into any unexpected file read problems, please file a bug report in the <a href="https://github.com/isoverse/isoreader/issues">isoreader issue tracker</a>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_problems_summary</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">error</th>
<th align="left">warning</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_problems</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">type</th>
<th align="left">func</th>
<th align="left">details</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>
</div>
<div id="file-information" class="section level1">
<h1>File Information</h1>
<p>Detailed file information can be aggregated for all isofiles using the <code>iso_get_file_info()</code> function which supports the full <a href="https://dplyr.tidyverse.org/reference/select.html">select syntax</a> of the <a href="https://dplyr.tidyverse.org/">dplyr</a> package to specify which columns are of interest (by default, all file information is retrieved). Additionally, file information from different file formats can be renamed to the same column name for easy of downstream processing. The following provides a few examples for how this can be used (the names of the interesting info columns may vary between different file formats):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># all file information</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_file_info</span>(<span class="dt">select =</span> <span class="kw">c</span>(<span class="op">-</span>file_root)) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt; Info: aggregating file info from 3 data file(s), selecting info columns &#39;c(-file_root)&#39;</span></span></code></pre></div>
<table>
<colgroup>
<col width="4%"></col>
<col width="4%"></col>
<col width="2%"></col>
<col width="3%"></col>
<col width="1%"></col>
<col width="0%"></col>
<col width="2%"></col>
<col width="2%"></col>
<col width="1%"></col>
<col width="2%"></col>
<col width="4%"></col>
<col width="1%"></col>
<col width="4%"></col>
<col width="35%"></col>
<col width="3%"></col>
<col width="2%"></col>
<col width="2%"></col>
<col width="1%"></col>
<col width="1%"></col>
<col width="2%"></col>
<col width="1%"></col>
<col width="2%"></col>
<col width="2%"></col>
<col width="2%"></col>
<col width="7%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">file_path</th>
<th align="left">file_subpath</th>
<th align="left">file_datetime</th>
<th align="right">file_size</th>
<th align="left">Line</th>
<th align="left">Peak Center</th>
<th align="left">Pressadjust</th>
<th align="left">Background</th>
<th align="left">Identifier 1</th>
<th align="left">Identifier 2</th>
<th align="left">Analysis</th>
<th align="left">Method</th>
<th align="left">measurement_info</th>
<th align="right">MS_integration_time.s</th>
<th align="left">Reference Refill</th>
<th align="left">Weight [mg]</th>
<th align="left">Sample</th>
<th align="left">Comment</th>
<th align="left">Preparation</th>
<th align="left">Pre Script</th>
<th align="left">Post Script</th>
<th align="left">Sample Name</th>
<th align="left">Sample Weight</th>
<th align="left">Method File Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">dual_inlet_example.did</td>
<td align="left">NA</td>
<td align="left">2014-10-27 05:23:54</td>
<td align="right">134446</td>
<td align="left">158</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">CIT Carrara</td>
<td align="left">13</td>
<td align="left">49077</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">Peak Center found at [61032] , Background: 8.87 mV,11.31 mV,12.98 mV,6.40 mV,1.90 mV,5.88 mV (old253), PressAdjust: L: 15972.5 R: 15971.6 ( Manual Adjustment )</td>
<td align="right">26</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">dual_inlet_example.caf</td>
<td align="left">NA</td>
<td align="left">2017-07-03 16:57:57</td>
<td align="right">651704</td>
<td align="left">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">2H6</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">16068</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">NA</td>
<td align="right">26</td>
<td align="left">NA</td>
<td align="left">113</td>
<td align="left">9</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">NA</td>
<td align="left">2017-02-21 10:46:17</td>
<td align="right">309491</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">ETH-01</td>
<td align="left">3480</td>
<td align="left">C:Stable2 4-20-8-20.rdf</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># select file information</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>di_files <span class="op">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>(</span>
<span id="cb8-4"><a href="#cb8-4"></a>    <span class="dt">select =</span> <span class="kw">c</span>(</span>
<span id="cb8-5"><a href="#cb8-5"></a>      <span class="co"># rename sample id columns from the different file types to a new ID column</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>      <span class="dt">ID =</span> <span class="st">`</span><span class="dt">Identifier 1</span><span class="st">`</span>, <span class="dt">ID =</span> <span class="st">`</span><span class="dt">Sample Name</span><span class="st">`</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>      <span class="co"># select columns without renaming</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>      Analysis, Method, <span class="st">`</span><span class="dt">Peak Center</span><span class="st">`</span>,</span>
<span id="cb8-9"><a href="#cb8-9"></a>      <span class="co"># select the time stamp and rename it to `Date &amp; Time`</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>      <span class="st">`</span><span class="dt">Date &amp; Time</span><span class="st">`</span> =<span class="st"> </span>file_datetime,</span>
<span id="cb8-11"><a href="#cb8-11"></a>      <span class="co"># rename weight columns from the different file types</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>      <span class="st">`</span><span class="dt">Sample Weight</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Sample Weight</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">Weight [mg]</span><span class="st">`</span></span>
<span id="cb8-13"><a href="#cb8-13"></a>    ),</span>
<span id="cb8-14"><a href="#cb8-14"></a>    <span class="co"># explicitly allow for file specific rename (for the new ID column)</span></span>
<span id="cb8-15"><a href="#cb8-15"></a>    <span class="dt">file_specific =</span> <span class="ot">TRUE</span></span>
<span id="cb8-16"><a href="#cb8-16"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; Info: aggregating file info from 3 data file(s), selecting info columns &#39;c(ID = `Identifier 1`, ID = `Sample Name`, Analysis, Method, `Peak Center`, `Date &amp; Time` = file_datetime, `Sample Weight`, `Sample Weight` = `Weight [mg]`)&#39;</span></span></code></pre></div>
<table>
<colgroup>
<col width="22%"></col>
<col width="10%"></col>
<col width="7%"></col>
<col width="19%"></col>
<col width="10%"></col>
<col width="17%"></col>
<col width="12%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">ID</th>
<th align="left">Analysis</th>
<th align="left">Method</th>
<th align="left">Peak Center</th>
<th align="left">Date &amp; Time</th>
<th align="left">Sample Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="left">49077</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">1</td>
<td align="left">2014-10-27 05:23:54</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="left">16068</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">NA</td>
<td align="left">2017-07-03 16:57:57</td>
<td align="left">113</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">ETH-01</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">2017-02-21 10:46:17</td>
<td align="left">3480</td>
</tr>
</tbody>
</table>
<div id="selectrename" class="section level2">
<h2>Select/Rename</h2>
<p>Rather than retrieving specific file info columns using the above example of <code>iso_get_file_info(select = ...)</code>, these information can also be modified across an entire collection of isofiles using the <code>iso_select_file_info()</code> and <code>iso_rename_file_info()</code> functions. For example, the above example could be similarly achieved with the following use of <code>iso_select_file_info()</code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># select + rename specific file info columns</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>di_files2 &lt;-<span class="st"> </span>di_files <span class="op">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="st">  </span><span class="kw">iso_select_file_info</span>(</span>
<span id="cb9-4"><a href="#cb9-4"></a>    <span class="dt">ID =</span> <span class="st">`</span><span class="dt">Identifier 1</span><span class="st">`</span>, <span class="dt">ID =</span> <span class="st">`</span><span class="dt">Sample Name</span><span class="st">`</span>, Analysis, Method,</span>
<span id="cb9-5"><a href="#cb9-5"></a>    <span class="st">`</span><span class="dt">Peak Center</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Date &amp; Time</span><span class="st">`</span> =<span class="st"> </span>file_datetime,</span>
<span id="cb9-6"><a href="#cb9-6"></a>    <span class="st">`</span><span class="dt">Sample Weight</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Sample Weight</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">Weight [mg]</span><span class="st">`</span>,</span>
<span id="cb9-7"><a href="#cb9-7"></a>    <span class="dt">file_specific =</span> <span class="ot">TRUE</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  )</span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt; Info: selecting/renaming the following file info:</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt;  - for 1 file(s): &#39;file_id&#39;, &#39;Identifier 1&#39;-&gt;&#39;ID&#39;, &#39;Analysis&#39;, &#39;Method&#39;, &#39;Peak Center&#39;, &#39;file_datetime&#39;-&gt;&#39;Date &amp; Time&#39;</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt;  - for 1 file(s): &#39;file_id&#39;, &#39;Identifier 1&#39;-&gt;&#39;ID&#39;, &#39;Analysis&#39;, &#39;Method&#39;, &#39;Peak Center&#39;, &#39;file_datetime&#39;-&gt;&#39;Date &amp; Time&#39;, &#39;Weight [mg]&#39;-&gt;&#39;Sample Weight&#39;</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#&gt;  - for 1 file(s): &#39;file_id&#39;, &#39;Sample Name&#39;-&gt;&#39;ID&#39;, &#39;file_datetime&#39;-&gt;&#39;Date &amp; Time&#39;, &#39;Sample Weight&#39;</span></span>
<span id="cb9-13"><a href="#cb9-13"></a></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co"># fetch all file info</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>di_files2 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_file_info</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="co">#&gt; Info: aggregating file info from 3 data file(s)</span></span></code></pre></div>
<table>
<colgroup>
<col width="22%"></col>
<col width="10%"></col>
<col width="7%"></col>
<col width="19%"></col>
<col width="10%"></col>
<col width="17%"></col>
<col width="12%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">ID</th>
<th align="left">Analysis</th>
<th align="left">Method</th>
<th align="left">Peak Center</th>
<th align="left">Date &amp; Time</th>
<th align="left">Sample Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="left">49077</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">1</td>
<td align="left">2014-10-27 05:23:54</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="left">16068</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">NA</td>
<td align="left">2017-07-03 16:57:57</td>
<td align="left">113</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">ETH-01</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">2017-02-21 10:46:17</td>
<td align="left">3480</td>
</tr>
</tbody>
</table>
</div>
<div id="filter" class="section level2">
<h2>Filter</h2>
<p>Any collection of isofiles can also be filtered based on the available file information using the function <code>iso_filter_files</code>. This function can operate on any column available in the file information and supports full <a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr</a> syntax.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># find files that have &#39;CIT&#39; in the new ID field</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>di_files2 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_filter_files</span>(<span class="kw">grepl</span>(<span class="st">&quot;CIT&quot;</span>, ID)) <span class="op">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>() <span class="op">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co">#&gt; Info: applying file filter, keeping 1 of 3 files</span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co">#&gt; Info: aggregating file info from 1 data file(s)</span></span></code></pre></div>
<table>
<colgroup>
<col width="23%"></col>
<col width="12%"></col>
<col width="9%"></col>
<col width="21%"></col>
<col width="12%"></col>
<col width="20%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">ID</th>
<th align="left">Analysis</th>
<th align="left">Method</th>
<th align="left">Peak Center</th>
<th align="left">Date &amp; Time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="left">49077</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">1</td>
<td align="left">2014-10-27 05:23:54</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co"># find files that were run in 2017</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>di_files2 <span class="op">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="st">  </span><span class="kw">iso_filter_files</span>(<span class="st">`</span><span class="dt">Date &amp; Time</span><span class="st">`</span> <span class="op">&gt;</span><span class="st"> &quot;2017-01-01&quot;</span> <span class="op">&amp;</span><span class="st"> `</span><span class="dt">Date &amp; Time</span><span class="st">`</span> <span class="op">&lt;</span><span class="st"> &quot;2018-01-01&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>() <span class="op">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt; Info: applying file filter, keeping 2 of 3 files</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt; Info: aggregating file info from 2 data file(s)</span></span></code></pre></div>
<table>
<colgroup>
<col width="23%"></col>
<col width="6%"></col>
<col width="8%"></col>
<col width="20%"></col>
<col width="10%"></col>
<col width="18%"></col>
<col width="12%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">ID</th>
<th align="left">Analysis</th>
<th align="left">Method</th>
<th align="left">Peak Center</th>
<th align="left">Date &amp; Time</th>
<th align="left">Sample Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="left">16068</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">NA</td>
<td align="left">2017-07-03 16:57:57</td>
<td align="left">113</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">ETH-01</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">2017-02-21 10:46:17</td>
<td align="left">3480</td>
</tr>
</tbody>
</table>
</div>
<div id="mutate" class="section level2">
<h2>Mutate</h2>
<p>The file information in any collection of isofiles can also be mutated using the function <code>iso_mutate_file_info</code>. This function can introduce new columns and operate on/overwrite any existing columns available in the file information (even if it does not exist in all files) and supports full <a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr</a> syntax. It can also be used in conjunction with <code>iso_with_unit</code> to generate values with implicit units.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>di_files3 &lt;-<span class="st"> </span>di_files2 <span class="op">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="st">  </span><span class="kw">iso_mutate_file_info</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>    <span class="co"># update existing column</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="dt">ID =</span> <span class="kw">paste</span>(<span class="st">&quot;ID:&quot;</span>, ID),</span>
<span id="cb12-5"><a href="#cb12-5"></a>    <span class="co"># introduce new column</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>    <span class="st">`</span><span class="dt">Run in 2017?</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">Date &amp; Time</span><span class="st">`</span> <span class="op">&gt;</span><span class="st"> &quot;2017-01-01&quot;</span> <span class="op">&amp;</span><span class="st"> `</span><span class="dt">Date &amp; Time</span><span class="st">`</span> <span class="op">&lt;</span><span class="st"> &quot;2018-01-01&quot;</span>,</span>
<span id="cb12-7"><a href="#cb12-7"></a>    <span class="co"># parse weight as a number and turn into a column with units</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>    <span class="st">`</span><span class="dt">Sample Weight</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">Sample Weight</span><span class="st">`</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">parse_number</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_with_units</span>(<span class="st">&quot;mg&quot;</span>)</span>
<span id="cb12-9"><a href="#cb12-9"></a>  )</span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="co">#&gt; Info: mutating file info for 3 data file(s)</span></span>
<span id="cb12-11"><a href="#cb12-11"></a></span>
<span id="cb12-12"><a href="#cb12-12"></a>di_files3 <span class="op">%&gt;%</span></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>() <span class="op">%&gt;%</span></span>
<span id="cb12-14"><a href="#cb12-14"></a><span class="st">  </span><span class="kw">iso_make_units_explicit</span>() <span class="op">%&gt;%</span></span>
<span id="cb12-15"><a href="#cb12-15"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb12-16"><a href="#cb12-16"></a><span class="co">#&gt; Info: aggregating file info from 3 data file(s)</span></span></code></pre></div>
<table>
<colgroup>
<col width="18%"></col>
<col width="11%"></col>
<col width="6%"></col>
<col width="16%"></col>
<col width="8%"></col>
<col width="14%"></col>
<col width="13%"></col>
<col width="9%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">ID</th>
<th align="left">Analysis</th>
<th align="left">Method</th>
<th align="left">Peak Center</th>
<th align="left">Date &amp; Time</th>
<th align="right">Sample Weight [mg]</th>
<th align="left">Run in 2017?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">ID: CIT Carrara</td>
<td align="left">49077</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">1</td>
<td align="left">2014-10-27 05:23:54</td>
<td align="right">NA</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">ID: 2H6</td>
<td align="left">16068</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">NA</td>
<td align="left">2017-07-03 16:57:57</td>
<td align="right">113</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">ID: ETH-01</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">2017-02-21 10:46:17</td>
<td align="right">3480</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<div id="add" class="section level2">
<h2>Add</h2>
<p>Additionally, a wide range of new file information can be added in the form of a data frame with any number of columns (usually read from a comma-separated-value/csv file or an Excel/xlsx file) using the function <code>iso_add_file_info</code> and specifying which existing file information should be used to merge in the new information. It is similar to <a href="https://dplyr.tidyverse.org/reference/join.html">dplyr’s left_join</a> but with additional safety checks and the possibility to join the new information sequentially as illustrated below.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># this kind of information data frame is frequently read in from a csv or xlsx file</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>new_info &lt;-</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">bind_rows</span>(</span>
<span id="cb13-4"><a href="#cb13-4"></a>    <span class="co"># new information based on new vs. old samples</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>    dplyr<span class="op">::</span><span class="kw">tribble</span>(</span>
<span id="cb13-6"><a href="#cb13-6"></a>      <span class="op">~</span>Analysis, <span class="op">~</span><span class="st">`</span><span class="dt">Run in 2017?</span><span class="st">`</span>,  <span class="op">~</span>process,  <span class="op">~</span>info,</span>
<span id="cb13-7"><a href="#cb13-7"></a>       <span class="ot">NA</span>,       <span class="ot">TRUE</span>,              <span class="st">&quot;yes&quot;</span>,     <span class="st">&quot;2017 runs&quot;</span>,</span>
<span id="cb13-8"><a href="#cb13-8"></a>       <span class="ot">NA</span>,       <span class="ot">FALSE</span>,             <span class="st">&quot;yes&quot;</span>,     <span class="st">&quot;other runs&quot;</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>    ),</span>
<span id="cb13-10"><a href="#cb13-10"></a>    <span class="co"># new information for a single specific file</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>    dplyr<span class="op">::</span><span class="kw">tribble</span>(</span>
<span id="cb13-12"><a href="#cb13-12"></a>      <span class="op">~</span>Analysis, <span class="op">~</span>process,  <span class="op">~</span>note,</span>
<span id="cb13-13"><a href="#cb13-13"></a>       <span class="st">&quot;16068&quot;</span>,   <span class="st">&quot;no&quot;</span>,      <span class="st">&quot;did not inject properly&quot;</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>    )</span>
<span id="cb13-15"><a href="#cb13-15"></a>  )</span>
<span id="cb13-16"><a href="#cb13-16"></a>new_info <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Analysis</th>
<th align="left">Run in 2017?</th>
<th align="left">process</th>
<th align="left">info</th>
<th align="left">note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">yes</td>
<td align="left">2017 runs</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="left">FALSE</td>
<td align="left">yes</td>
<td align="left">other runs</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">16068</td>
<td align="left">NA</td>
<td align="left">no</td>
<td align="left">NA</td>
<td align="left">did not inject properly</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co"># adding it to the isofiles</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>di_files3 <span class="op">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="st">  </span><span class="kw">iso_add_file_info</span>(new_info, <span class="dt">by1 =</span> <span class="st">&quot;Run in 2017?&quot;</span>, <span class="dt">by2 =</span> <span class="st">&quot;Analysis&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>(<span class="dt">select =</span> <span class="op">!!</span><span class="kw">names</span>(new_info)) <span class="op">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co">#&gt; Info: adding new file information (&#39;process&#39;, &#39;info&#39;, &#39;note&#39;) to 3 data file(s), joining by &#39;Run in 2017?&#39; then &#39;Analysis&#39;...</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="co">#&gt;  - &#39;Run in 2017?&#39; join: 2/2 new info rows matched 3/3 data files - 1 of these was/were also matched by subsequent joins which took precedence</span></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="co">#&gt;  - &#39;Analysis&#39; join: 1/1 new info rows matched 1/3 data files</span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co">#&gt; Info: aggregating file info from 3 data file(s), selecting info columns &#39;Analysis&#39;, &#39;Run in 2017?&#39;, &#39;process&#39;, &#39;info&#39;, &#39;note&#39;</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">Analysis</th>
<th align="left">Run in 2017?</th>
<th align="left">process</th>
<th align="left">info</th>
<th align="left">note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">FALSE</td>
<td align="left">yes</td>
<td align="left">other runs</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">16068</td>
<td align="left">TRUE</td>
<td align="left">no</td>
<td align="left">NA</td>
<td align="left">did not inject properly</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">yes</td>
<td align="left">2017 runs</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
<div id="parse" class="section level2">
<h2>Parse</h2>
<p>Most file information is initially read as text to avoid cumbersome specifications during the read process and compatibility issues between different IRMS file formats. However, many file info columns are not easily processed as text. The isoreader package therefore provides several parsing and data extraction functions to facilitate processing the text-based data (some via functionality implemented by the <a href="https://readr.tidyverse.org">readr</a> package). See code block below for examples. For a complete overview, see the <code>?extract_data</code> and <code>?iso_parse_file_info</code> documentation.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># use parsing and extraction in iso_mutate_file_info</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>di_files2 <span class="op">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="st">  </span><span class="kw">iso_mutate_file_info</span>(</span>
<span id="cb15-4"><a href="#cb15-4"></a>    <span class="co"># change type of Peak Center to logical</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>    <span class="st">`</span><span class="dt">Peak Center</span><span class="st">`</span> =<span class="st"> </span><span class="kw">parse_logical</span>(<span class="st">`</span><span class="dt">Peak Center</span><span class="st">`</span>),</span>
<span id="cb15-6"><a href="#cb15-6"></a>    <span class="co"># retrieve first word of Method column</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>    <span class="dt">Method_1st =</span> <span class="kw">extract_word</span>(Method),</span>
<span id="cb15-8"><a href="#cb15-8"></a>    <span class="co"># retrieve second word of Method column</span></span>
<span id="cb15-9"><a href="#cb15-9"></a>    <span class="dt">Method_2nd =</span> <span class="kw">extract_word</span>(Method, <span class="dv">2</span>),</span>
<span id="cb15-10"><a href="#cb15-10"></a>    <span class="co"># retrieve file extension from the file_id using regular expression</span></span>
<span id="cb15-11"><a href="#cb15-11"></a>    <span class="dt">extension =</span> <span class="kw">extract_substring</span>(file_id, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.(</span><span class="ch">\\</span><span class="st">w+)$&quot;</span>, <span class="dt">capture_bracket =</span> <span class="dv">1</span>)</span>
<span id="cb15-12"><a href="#cb15-12"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb15-13"><a href="#cb15-13"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>(<span class="dt">select =</span> <span class="kw">c</span>(extension, <span class="st">`</span><span class="dt">Peak Center</span><span class="st">`</span>, <span class="kw">matches</span>(<span class="st">&quot;Method&quot;</span>))) <span class="op">%&gt;%</span></span>
<span id="cb15-14"><a href="#cb15-14"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb15-15"><a href="#cb15-15"></a><span class="co">#&gt; Info: mutating file info for 3 data file(s)</span></span>
<span id="cb15-16"><a href="#cb15-16"></a><span class="co">#&gt; Info: aggregating file info from 3 data file(s), selecting info columns &#39;c(extension, `Peak Center`, matches(&quot;Method&quot;))&#39;</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">extension</th>
<th align="left">Peak Center</th>
<th align="left">Method</th>
<th align="left">Method_1st</th>
<th align="left">Method_2nd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">did</td>
<td align="left">TRUE</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">CO2</td>
<td align="left">multiply</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">caf</td>
<td align="left">NA</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">CARBO</td>
<td align="left">IIIUvU</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">txt</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co"># use parsing in iso_filter_file_info</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>di_files2 <span class="op">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="st">  </span><span class="kw">iso_filter_files</span>(<span class="kw">parse_integer</span>(Analysis) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1500</span>) <span class="op">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>() <span class="op">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co">#&gt; Info: applying file filter, keeping 2 of 3 files</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="co">#&gt; Info: aggregating file info from 2 data file(s)</span></span></code></pre></div>
<table>
<colgroup>
<col width="20%"></col>
<col width="10%"></col>
<col width="7%"></col>
<col width="20%"></col>
<col width="10%"></col>
<col width="17%"></col>
<col width="12%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">ID</th>
<th align="left">Analysis</th>
<th align="left">Method</th>
<th align="left">Peak Center</th>
<th align="left">Date &amp; Time</th>
<th align="left">Sample Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="left">49077</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">1</td>
<td align="left">2014-10-27 05:23:54</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="left">16068</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">NA</td>
<td align="left">2017-07-03 16:57:57</td>
<td align="left">113</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co"># use iso_parse_file_info for simplified parsing of column data types</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>di_files2 <span class="op">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="st">  </span><span class="kw">iso_parse_file_info</span>(</span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="dt">integer =</span> Analysis,</span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="dt">number =</span> <span class="st">`</span><span class="dt">Sample Weight</span><span class="st">`</span>,</span>
<span id="cb17-7"><a href="#cb17-7"></a>    <span class="dt">logical =</span> <span class="st">`</span><span class="dt">Peak Center</span><span class="st">`</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb17-9"><a href="#cb17-9"></a><span class="st">  </span><span class="kw">iso_get_file_info</span>() <span class="op">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb17-11"><a href="#cb17-11"></a><span class="co">#&gt; Info: parsing 3 file info columns for 3 data file(s):</span></span>
<span id="cb17-12"><a href="#cb17-12"></a><span class="co">#&gt;  - to integer: &#39;Analysis&#39;</span></span>
<span id="cb17-13"><a href="#cb17-13"></a><span class="co">#&gt;  - to logical: &#39;Peak Center&#39;</span></span>
<span id="cb17-14"><a href="#cb17-14"></a><span class="co">#&gt;  - to number: &#39;Sample Weight&#39;</span></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="co">#&gt; Info: aggregating file info from 3 data file(s)</span></span></code></pre></div>
<table>
<colgroup>
<col width="22%"></col>
<col width="10%"></col>
<col width="7%"></col>
<col width="19%"></col>
<col width="10%"></col>
<col width="17%"></col>
<col width="12%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">ID</th>
<th align="right">Analysis</th>
<th align="left">Method</th>
<th align="left">Peak Center</th>
<th align="left">Date &amp; Time</th>
<th align="right">Sample Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">49077</td>
<td align="left">CO2_multiply_16V.met</td>
<td align="left">TRUE</td>
<td align="left">2014-10-27 05:23:54</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">16068</td>
<td align="left">CARBO IIIUvU_Clump.met</td>
<td align="left">NA</td>
<td align="left">2017-07-03 16:57:57</td>
<td align="right">113</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_nu_example.txt</td>
<td align="left">ETH-01</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">2017-02-21 10:46:17</td>
<td align="right">3480</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="resistors" class="section level1">
<h1>Resistors</h1>
<p>Additionally, some IRMS data files contain resistor information that are useful for downstream calculations (see e.g. section on signal conversion later in this vignette):</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_resistors</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt; Info: aggregating resistors info from 3 data file(s)</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="right">cup</th>
<th align="right">R.Ohm</th>
<th align="left">mass</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="right">1</td>
<td align="right">3.000000e+08</td>
<td align="left">44</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="right">2</td>
<td align="right">3.000000e+10</td>
<td align="left">45</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="right">3</td>
<td align="right">1.000000e+11</td>
<td align="left">46</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="right">4</td>
<td align="right">1.000000e+12</td>
<td align="left">47</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="right">5</td>
<td align="right">5.000000e+11</td>
<td align="left">48</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="right">6</td>
<td align="right">1.000000e+12</td>
<td align="left">49</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="right">1</td>
<td align="right">2.970297e+08</td>
<td align="left">44</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="right">2</td>
<td align="right">1.500000e+10</td>
<td align="left">45</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="right">3</td>
<td align="right">5.000000e+10</td>
<td align="left">46</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="right">4</td>
<td align="right">5.000000e+11</td>
<td align="left">47</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="right">5</td>
<td align="right">9.900990e+09</td>
<td align="left">48</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="right">6</td>
<td align="right">5.000000e+11</td>
<td align="left">49</td>
</tr>
</tbody>
</table>
</div>
<div id="reference-values" class="section level1">
<h1>Reference values</h1>
<p>As well as isotopic reference values for the different gases:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># reference delta values without ratio values</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_standards</span>(file_id<span class="op">:</span>reference) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co">#&gt; Info: aggregating standards info from 3 data file(s)</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">standard</th>
<th align="left">gas</th>
<th align="left">delta_name</th>
<th align="right">delta_value</th>
<th align="left">reference</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-3.56</td>
<td align="left">VPDB</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">25.01</td>
<td align="left">VSMOW</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-2.82</td>
<td align="left">VPDB</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">-4.67</td>
<td align="left">VPDB</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 47CO2/44CO2</td>
<td align="right">0.00</td>
<td align="left">None</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 48CO2/44CO2</td>
<td align="right">0.00</td>
<td align="left">None</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 49CO2/44CO2</td>
<td align="right">0.00</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># reference values with ratios</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_standards</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="co">#&gt; Info: aggregating standards info from 3 data file(s)</span></span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="21%"></col>
<col width="12%"></col>
<col width="3%"></col>
<col width="12%"></col>
<col width="11%"></col>
<col width="9%"></col>
<col width="7%"></col>
<col width="10%"></col>
<col width="11%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">standard</th>
<th align="left">gas</th>
<th align="left">delta_name</th>
<th align="right">delta_value</th>
<th align="left">reference</th>
<th align="left">element</th>
<th align="left">ratio_name</th>
<th align="right">ratio_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-3.56</td>
<td align="left">VPDB</td>
<td align="left">C</td>
<td align="left">R 13C/12C</td>
<td align="right">0.0111802</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-3.56</td>
<td align="left">VPDB</td>
<td align="left">O</td>
<td align="left">R 18O/16O</td>
<td align="right">0.0020672</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-3.56</td>
<td align="left">VPDB</td>
<td align="left">O</td>
<td align="left">R 17O/16O</td>
<td align="right">0.0003860</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">25.01</td>
<td align="left">VSMOW</td>
<td align="left">H</td>
<td align="left">R 2H/1H</td>
<td align="right">0.0001558</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">25.01</td>
<td align="left">VSMOW</td>
<td align="left">O</td>
<td align="left">R 17O/16O</td>
<td align="right">0.0003799</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">Caltech-1960C</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">25.01</td>
<td align="left">VSMOW</td>
<td align="left">O</td>
<td align="left">R 18O/16O</td>
<td align="right">0.0020052</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-2.82</td>
<td align="left">VPDB</td>
<td align="left">C</td>
<td align="left">R 13C/12C</td>
<td align="right">0.0111802</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-2.82</td>
<td align="left">VPDB</td>
<td align="left">O</td>
<td align="left">R 18O/16O</td>
<td align="right">0.0020672</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 13C/12C</td>
<td align="right">-2.82</td>
<td align="left">VPDB</td>
<td align="left">O</td>
<td align="left">R 17O/16O</td>
<td align="right">0.0003860</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">-4.67</td>
<td align="left">VPDB</td>
<td align="left">C</td>
<td align="left">R 13C/12C</td>
<td align="right">0.0111802</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">-4.67</td>
<td align="left">VPDB</td>
<td align="left">O</td>
<td align="left">R 18O/16O</td>
<td align="right">0.0020672</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 18O/16O</td>
<td align="right">-4.67</td>
<td align="left">VPDB</td>
<td align="left">O</td>
<td align="left">R 17O/16O</td>
<td align="right">0.0003860</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 47CO2/44CO2</td>
<td align="right">0.00</td>
<td align="left">None</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 48CO2/44CO2</td>
<td align="right">0.00</td>
<td align="left">None</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">CO2clump tank</td>
<td align="left">CO2</td>
<td align="left">d 49CO2/44CO2</td>
<td align="right">0.00</td>
<td align="left">None</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
<div id="raw-data" class="section level1">
<h1>Raw Data</h1>
<p>The raw data read from the IRMS files can be retrieved similarly using the <code>iso_get_raw_data()</code> function. Most data aggregation functions also allow for inclusion of file information using the <code>include_file_info</code> parameter, which functions identically to the <code>select</code> parameter of the <code>iso_get_file_info</code> function discussed earlier.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># get raw data with default selections (all raw data, no additional file info)</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_raw_data</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dt">n=</span><span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co">#&gt; Info: aggregating raw data from 3 data file(s)</span></span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="17%"></col>
<col width="6%"></col>
<col width="4%"></col>
<col width="6%"></col>
<col width="6%"></col>
<col width="6%"></col>
<col width="6%"></col>
<col width="6%"></col>
<col width="7%"></col>
<col width="4%"></col>
<col width="4%"></col>
<col width="4%"></col>
<col width="4%"></col>
<col width="4%"></col>
<col width="4%"></col>
<col width="4%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">type</th>
<th align="right">cycle</th>
<th align="right">v44.mV</th>
<th align="right">v45.mV</th>
<th align="right">v46.mV</th>
<th align="right">v47.mV</th>
<th align="right">v48.mV</th>
<th align="right">v49.mV</th>
<th align="right">block</th>
<th align="right">i44.A</th>
<th align="right">i45.A</th>
<th align="right">i46.A</th>
<th align="right">i47.A</th>
<th align="right">i48.A</th>
<th align="right">i49.A</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">0</td>
<td align="right">15946.42</td>
<td align="right">19001.94</td>
<td align="right">21960.62</td>
<td align="right">2513.280</td>
<td align="right">29.78742</td>
<td align="right">-181.2712</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">1</td>
<td align="right">15941.14</td>
<td align="right">18995.66</td>
<td align="right">21954.19</td>
<td align="right">2512.345</td>
<td align="right">29.80048</td>
<td align="right">-180.9752</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">2</td>
<td align="right">15933.54</td>
<td align="right">18986.64</td>
<td align="right">21943.58</td>
<td align="right">2511.280</td>
<td align="right">29.81818</td>
<td align="right">-180.7748</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">3</td>
<td align="right">15916.58</td>
<td align="right">18966.34</td>
<td align="right">21919.97</td>
<td align="right">2508.497</td>
<td align="right">29.78074</td>
<td align="right">-180.4583</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">4</td>
<td align="right">15901.62</td>
<td align="right">18948.60</td>
<td align="right">21899.17</td>
<td align="right">2506.104</td>
<td align="right">29.76304</td>
<td align="right">-180.2311</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">5</td>
<td align="right">15896.00</td>
<td align="right">18941.97</td>
<td align="right">21891.49</td>
<td align="right">2505.600</td>
<td align="right">29.75818</td>
<td align="right">-180.3095</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">6</td>
<td align="right">15884.63</td>
<td align="right">18928.51</td>
<td align="right">21876.19</td>
<td align="right">2503.555</td>
<td align="right">29.72923</td>
<td align="right">-180.2013</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">standard</td>
<td align="right">7</td>
<td align="right">15875.89</td>
<td align="right">18918.12</td>
<td align="right">21863.96</td>
<td align="right">2502.444</td>
<td align="right">29.69513</td>
<td align="right">-180.0340</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">sample</td>
<td align="right">1</td>
<td align="right">15955.18</td>
<td align="right">19122.71</td>
<td align="right">22237.99</td>
<td align="right">2559.245</td>
<td align="right">31.09436</td>
<td align="right">-181.2460</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">sample</td>
<td align="right">2</td>
<td align="right">15945.64</td>
<td align="right">19111.16</td>
<td align="right">22224.65</td>
<td align="right">2557.857</td>
<td align="right">31.09153</td>
<td align="right">-180.9976</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># get specific raw data and add some file information</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>di_files <span class="op">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="st">  </span><span class="kw">iso_get_raw_data</span>(</span>
<span id="cb22-4"><a href="#cb22-4"></a>    <span class="co"># select just time and the two ions</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>    <span class="dt">select =</span> <span class="kw">c</span>(type, cycle, v44.mV, v45.mV),</span>
<span id="cb22-6"><a href="#cb22-6"></a>    <span class="co"># include the Analysis number fron the file info and rename it to &#39;run&#39;</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>    <span class="dt">include_file_info =</span> <span class="kw">c</span>(<span class="dt">run =</span> Analysis)</span>
<span id="cb22-8"><a href="#cb22-8"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="st">  </span><span class="co"># look at first few records only</span></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="st">  </span><span class="kw">head</span>(<span class="dt">n=</span><span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="co">#&gt; Info: aggregating raw data from 3 data file(s), selecting data columns &#39;c(type, cycle, v44.mV, v45.mV)&#39;, including file info &#39;c(run = Analysis)&#39;</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">run</th>
<th align="left">type</th>
<th align="right">cycle</th>
<th align="right">v44.mV</th>
<th align="right">v45.mV</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">0</td>
<td align="right">15946.42</td>
<td align="right">19001.94</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">1</td>
<td align="right">15941.14</td>
<td align="right">18995.66</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">2</td>
<td align="right">15933.54</td>
<td align="right">18986.64</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">3</td>
<td align="right">15916.58</td>
<td align="right">18966.34</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">4</td>
<td align="right">15901.62</td>
<td align="right">18948.60</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">5</td>
<td align="right">15896.00</td>
<td align="right">18941.97</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">6</td>
<td align="right">15884.63</td>
<td align="right">18928.51</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">standard</td>
<td align="right">7</td>
<td align="right">15875.89</td>
<td align="right">18918.12</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">sample</td>
<td align="right">1</td>
<td align="right">15955.18</td>
<td align="right">19122.71</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">49077</td>
<td align="left">sample</td>
<td align="right">2</td>
<td align="right">15945.64</td>
<td align="right">19111.16</td>
</tr>
</tbody>
</table>
</div>
<div id="data-processing" class="section level1">
<h1>Data Processing</h1>
<p>The isoreader package is intended to make raw stable isotope data easily accessible. However, as with most analytical data, there is significant downstream processing required to turn these raw signal intensities into properly referenced isotopic measurement. This and similar functionality as well as data visualization is part of the <a href="https://isoprocessor.isoverse.org">isoprocessor package</a> which takes isotopic data through the various corrections in a transparent, efficient and reproducible manner.</p>
<p>That said, most vendor software also performs some of these calculations and it can be useful to be able to compare new data reduction procedures against those implemented in the vendor software. For this purpose, isoreader retrieves vendor computed data tables whenever possible, as illustrated below.</p>
<div id="vendor-data-table" class="section level2">
<h2>Vendor Data Table</h2>
<p>As with most data retrieval functions, the <code>iso_get_vendor_data_table()</code> function also allows specific column selection (by default, all columns are selected) and easy addition of file information via the <code>include_file_info</code> parameter (by default, none is included).</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># entire vendor data table</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_vendor_data_table</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="co">#&gt; Info: aggregating vendor data table from 3 data file(s)</span></span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="15%"></col>
<col width="3%"></col>
<col width="9%"></col>
<col width="9%"></col>
<col width="6%"></col>
<col width="6%"></col>
<col width="6%"></col>
<col width="7%"></col>
<col width="7%"></col>
<col width="9%"></col>
<col width="9%"></col>
<col width="9%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="right">cycle</th>
<th align="right">d 45CO2/44CO2</th>
<th align="right">d 46CO2/44CO2</th>
<th align="right">d 13C/12C</th>
<th align="right">d 18O/16O</th>
<th align="right">d 17O/16O</th>
<th align="right">AT% 13C/12C</th>
<th align="right">AT% 18O/16O</th>
<th align="right">d 47CO2/44CO2</th>
<th align="right">d 48CO2/44CO2</th>
<th align="right">d 49CO2/44CO2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="right">1</td>
<td align="right">3.3287770</td>
<td align="right">37.330647</td>
<td align="right">2.1929917</td>
<td align="right">37.366456</td>
<td align="right">6.202321</td>
<td align="right">1.108056</td>
<td align="right">0.2075809</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="right">2</td>
<td align="right">3.3209553</td>
<td align="right">37.311799</td>
<td align="right">2.1852948</td>
<td align="right">37.347605</td>
<td align="right">6.192886</td>
<td align="right">1.108048</td>
<td align="right">0.2075772</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="right">3</td>
<td align="right">3.3263384</td>
<td align="right">37.317514</td>
<td align="right">2.1908570</td>
<td align="right">37.353314</td>
<td align="right">6.195743</td>
<td align="right">1.108054</td>
<td align="right">0.2075783</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="right">4</td>
<td align="right">3.3200304</td>
<td align="right">37.317207</td>
<td align="right">2.1841057</td>
<td align="right">37.353021</td>
<td align="right">6.195597</td>
<td align="right">1.108047</td>
<td align="right">0.2075782</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="right">5</td>
<td align="right">3.3187408</td>
<td align="right">37.329768</td>
<td align="right">2.1822644</td>
<td align="right">37.365600</td>
<td align="right">6.201893</td>
<td align="right">1.108045</td>
<td align="right">0.2075808</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="right">6</td>
<td align="right">3.3177548</td>
<td align="right">37.322849</td>
<td align="right">2.1814601</td>
<td align="right">37.358675</td>
<td align="right">6.198427</td>
<td align="right">1.108044</td>
<td align="right">0.2075794</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="right">7</td>
<td align="right">3.3217518</td>
<td align="right">37.318368</td>
<td align="right">2.1859087</td>
<td align="right">37.354180</td>
<td align="right">6.196176</td>
<td align="right">1.108049</td>
<td align="right">0.2075785</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="right">1</td>
<td align="right">0.7000753</td>
<td align="right">7.543204</td>
<td align="right">0.4669423</td>
<td align="right">7.550236</td>
<td align="right">6.316518</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.65910</td>
<td align="right">22.50135</td>
<td align="right">-58.12863</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="right">2</td>
<td align="right">0.6846506</td>
<td align="right">7.518991</td>
<td align="right">0.4512997</td>
<td align="right">7.526031</td>
<td align="right">6.304043</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.62094</td>
<td align="right">22.59733</td>
<td align="right">-54.25812</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="right">3</td>
<td align="right">0.6827013</td>
<td align="right">7.503826</td>
<td align="right">0.4497784</td>
<td align="right">7.510853</td>
<td align="right">6.296221</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.56356</td>
<td align="right">22.81077</td>
<td align="right">-52.21288</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="right">4</td>
<td align="right">0.6940694</td>
<td align="right">7.513421</td>
<td align="right">0.4616176</td>
<td align="right">7.520432</td>
<td align="right">6.301158</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.64200</td>
<td align="right">23.18259</td>
<td align="right">-66.43734</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="right">5</td>
<td align="right">0.6748151</td>
<td align="right">7.499821</td>
<td align="right">0.4414657</td>
<td align="right">7.506862</td>
<td align="right">6.294164</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.56706</td>
<td align="right">22.81533</td>
<td align="right">-67.80591</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="right">6</td>
<td align="right">0.6836593</td>
<td align="right">7.492892</td>
<td align="right">0.4512181</td>
<td align="right">7.499905</td>
<td align="right">6.290578</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.65654</td>
<td align="right">23.33585</td>
<td align="right">-66.66771</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="right">7</td>
<td align="right">0.6960376</td>
<td align="right">7.491672</td>
<td align="right">0.4645483</td>
<td align="right">7.498654</td>
<td align="right">6.289934</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.56031</td>
<td align="right">23.89354</td>
<td align="right">-42.32076</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="right">8</td>
<td align="right">0.6929899</td>
<td align="right">7.499328</td>
<td align="right">0.4609894</td>
<td align="right">7.506326</td>
<td align="right">6.293888</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">15.45959</td>
<td align="right">24.43994</td>
<td align="right">-48.39355</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># get specific parts and add some file information</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>di_files <span class="op">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="st">  </span><span class="kw">iso_get_vendor_data_table</span>(</span>
<span id="cb24-4"><a href="#cb24-4"></a>    <span class="co"># select cycle and all carbon columns</span></span>
<span id="cb24-5"><a href="#cb24-5"></a>    <span class="dt">select =</span> <span class="kw">c</span>(cycle, <span class="kw">matches</span>(<span class="st">&quot;C&quot;</span>)),</span>
<span id="cb24-6"><a href="#cb24-6"></a>    <span class="co"># include the Identifier 1 fron the file info and rename it to &#39;id&#39;</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>    <span class="dt">include_file_info =</span> <span class="kw">c</span>(<span class="dt">id =</span> <span class="st">`</span><span class="dt">Identifier 1</span><span class="st">`</span>)</span>
<span id="cb24-8"><a href="#cb24-8"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="co">#&gt; Info: aggregating vendor data table from 3 data file(s), including file info &#39;c(id = `Identifier 1`)&#39;</span></span></code></pre></div>
<table>
<colgroup>
<col width="17%"></col>
<col width="9%"></col>
<col width="4%"></col>
<col width="10%"></col>
<col width="10%"></col>
<col width="7%"></col>
<col width="9%"></col>
<col width="10%"></col>
<col width="10%"></col>
<col width="10%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">file_id</th>
<th align="left">id</th>
<th align="right">cycle</th>
<th align="right">d 45CO2/44CO2</th>
<th align="right">d 46CO2/44CO2</th>
<th align="right">d 13C/12C</th>
<th align="right">AT% 13C/12C</th>
<th align="right">d 47CO2/44CO2</th>
<th align="right">d 48CO2/44CO2</th>
<th align="right">d 49CO2/44CO2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">1</td>
<td align="right">3.3287770</td>
<td align="right">37.330647</td>
<td align="right">2.1929917</td>
<td align="right">1.108056</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">2</td>
<td align="right">3.3209553</td>
<td align="right">37.311799</td>
<td align="right">2.1852948</td>
<td align="right">1.108048</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">3</td>
<td align="right">3.3263384</td>
<td align="right">37.317514</td>
<td align="right">2.1908570</td>
<td align="right">1.108054</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">4</td>
<td align="right">3.3200304</td>
<td align="right">37.317207</td>
<td align="right">2.1841057</td>
<td align="right">1.108047</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">5</td>
<td align="right">3.3187408</td>
<td align="right">37.329768</td>
<td align="right">2.1822644</td>
<td align="right">1.108045</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">6</td>
<td align="right">3.3177548</td>
<td align="right">37.322849</td>
<td align="right">2.1814601</td>
<td align="right">1.108044</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.did</td>
<td align="left">CIT Carrara</td>
<td align="right">7</td>
<td align="right">3.3217518</td>
<td align="right">37.318368</td>
<td align="right">2.1859087</td>
<td align="right">1.108049</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">1</td>
<td align="right">0.7000753</td>
<td align="right">7.543204</td>
<td align="right">0.4669423</td>
<td align="right">NA</td>
<td align="right">15.65910</td>
<td align="right">22.50135</td>
<td align="right">-58.12863</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">2</td>
<td align="right">0.6846506</td>
<td align="right">7.518991</td>
<td align="right">0.4512997</td>
<td align="right">NA</td>
<td align="right">15.62094</td>
<td align="right">22.59733</td>
<td align="right">-54.25812</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">3</td>
<td align="right">0.6827013</td>
<td align="right">7.503826</td>
<td align="right">0.4497784</td>
<td align="right">NA</td>
<td align="right">15.56356</td>
<td align="right">22.81077</td>
<td align="right">-52.21288</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">4</td>
<td align="right">0.6940694</td>
<td align="right">7.513421</td>
<td align="right">0.4616176</td>
<td align="right">NA</td>
<td align="right">15.64200</td>
<td align="right">23.18259</td>
<td align="right">-66.43734</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">5</td>
<td align="right">0.6748151</td>
<td align="right">7.499821</td>
<td align="right">0.4414657</td>
<td align="right">NA</td>
<td align="right">15.56706</td>
<td align="right">22.81533</td>
<td align="right">-67.80591</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">6</td>
<td align="right">0.6836593</td>
<td align="right">7.492892</td>
<td align="right">0.4512181</td>
<td align="right">NA</td>
<td align="right">15.65654</td>
<td align="right">23.33585</td>
<td align="right">-66.66771</td>
</tr>
<tr class="even">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">7</td>
<td align="right">0.6960376</td>
<td align="right">7.491672</td>
<td align="right">0.4645483</td>
<td align="right">NA</td>
<td align="right">15.56031</td>
<td align="right">23.89354</td>
<td align="right">-42.32076</td>
</tr>
<tr class="odd">
<td align="left">dual_inlet_example.caf</td>
<td align="left">2H6</td>
<td align="right">8</td>
<td align="right">0.6929899</td>
<td align="right">7.499328</td>
<td align="right">0.4609894</td>
<td align="right">NA</td>
<td align="right">15.45959</td>
<td align="right">24.43994</td>
<td align="right">-48.39355</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="for-expert-users-retrieving-all-data" class="section level1">
<h1>For expert users: retrieving all data</h1>
<p>For users familiar with the nested data frames from the <a href="https://www.tidyverse.org/">tidyverse</a> (particularly <a href="https://tidyr.tidyverse.org/">tidyr</a>’s <code>nest</code> and <code>unnest</code>), there is an easy way to retrieve all data from the iso file objects in a single nested data frame:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>all_data &lt;-<span class="st"> </span>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_get_all_data</span>()</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="co">#&gt; Info: aggregating all data from 3 data file(s)</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="co"># not printed out because this data frame is very big</span></span></code></pre></div>
</div>
<div id="saving-collections" class="section level1">
<h1>Saving collections</h1>
<p>Saving entire collections of isofiles for retrieval at a later point is easily done using the <code>iso_save</code> function which stores collections or individual isoreader file objects in the efficient R data storage format <code>.rds</code> (if not specified, the extension <code>.di.rds</code> will be automatically appended). These saved collections can be conveniently read back using the same <code>iso_read_dual_inlet</code> command used for raw data files.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># export to R data archive</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_save</span>(<span class="st">&quot;di_files_export.di.rds&quot;</span>)</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="co">#&gt; Info: exporting data from 3 iso_files into R Data Storage &#39;di_files_export.di.rds&#39;</span></span>
<span id="cb26-4"><a href="#cb26-4"></a></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="co"># read back the exported R data storage</span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="kw">iso_read_dual_inlet</span>(<span class="st">&quot;di_files_export.di.rds&quot;</span>)</span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="co">#&gt; Info: preparing to read 1 data files...</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="co">#&gt; Info: reading file &#39;di_files_export.di.rds&#39; with &#39;.di.rds&#39; reader...</span></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="co">#&gt; Info: loaded 3 data files from R Data Storage</span></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="co">#&gt; Info: finished reading 1 files in 0.12 secs</span></span>
<span id="cb26-11"><a href="#cb26-11"></a><span class="co">#&gt; Data from 3 dual inlet iso files: </span></span>
<span id="cb26-12"><a href="#cb26-12"></a><span class="co">#&gt; # A tibble: 3 x 6</span></span>
<span id="cb26-13"><a href="#cb26-13"></a><span class="co">#&gt;   file_id     raw_data      file_info  method_info  vendor_data_tab… file_path  </span></span>
<span id="cb26-14"><a href="#cb26-14"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;glue&gt;        &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;      </span></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="co">#&gt; 1 dual_inlet… 7 cycles, 6 … 16 entries standards, … 7 rows, 8 colum… dual_inlet…</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="co">#&gt; 2 dual_inlet… 8 cycles, 6 … 22 entries standards, … 8 rows, 9 colum… dual_inlet…</span></span>
<span id="cb26-17"><a href="#cb26-17"></a><span class="co">#&gt; 3 dual_inlet… 82 cycles, 6… 9 entries  no method i… no vendor data … dual_inlet…</span></span></code></pre></div>
</div>
<div id="data-export" class="section level1">
<h1>Data Export</h1>
<p>At the moment, isoreader supports export of all data to Excel and the <a href="https://blog.rstudio.com/2016/03/29/feather/">Feather file format</a> (a Python/R cross-over format). Note that both export methods have similar syntax and append the appropriate file extension for each type of export file (<code>.di.xlsx</code> and <code>.di.feather</code>, respectively).</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># export to excel</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_export_to_excel</span>(<span class="st">&quot;di_files_export&quot;</span>)</span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="co">#&gt; Info: exporting data from 3 iso_files into Excel &#39;di_files_export.di.xlsx&#39;</span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="co">#&gt; Info: aggregating all data from 3 data file(s)</span></span>
<span id="cb27-5"><a href="#cb27-5"></a></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="co"># data sheets available in the exported data file:</span></span>
<span id="cb27-7"><a href="#cb27-7"></a>readxl<span class="op">::</span><span class="kw">excel_sheets</span>(<span class="st">&quot;di_files_export.di.xlsx&quot;</span>)</span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="co">#&gt; [1] &quot;file info&quot;         &quot;raw data&quot;          &quot;standards&quot;        </span></span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="co">#&gt; [4] &quot;resistors&quot;         &quot;vendor data table&quot; &quot;problems&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># export to feather</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>di_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">iso_export_to_feather</span>(<span class="st">&quot;di_files_export&quot;</span>)</span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="co">#&gt; Info: exporting data from 3 iso_files into .di.feather files at &#39;di_files_export&#39;</span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="co">#&gt; Info: aggregating all data from 3 data file(s)</span></span>
<span id="cb28-5"><a href="#cb28-5"></a></span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="co"># exported feather files</span></span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="kw">list.files</span>(<span class="dt">pattern =</span> <span class="st">&quot;.di.feather&quot;</span>)</span>
<span id="cb28-8"><a href="#cb28-8"></a><span class="co">#&gt; [1] &quot;di_files_export_file_info.di.feather&quot;        </span></span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="co">#&gt; [2] &quot;di_files_export_problems.di.feather&quot;         </span></span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="co">#&gt; [3] &quot;di_files_export_raw_data.di.feather&quot;         </span></span>
<span id="cb28-11"><a href="#cb28-11"></a><span class="co">#&gt; [4] &quot;di_files_export_resistors.di.feather&quot;        </span></span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="co">#&gt; [5] &quot;di_files_export_standards.di.feather&quot;        </span></span>
<span id="cb28-13"><a href="#cb28-13"></a><span class="co">#&gt; [6] &quot;di_files_export_vendor_data_table.di.feather&quot;</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
